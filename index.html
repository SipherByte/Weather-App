<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emotional Weather | Professional Weather App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #1a73e8;
            --primary-dark: #0d47a1;
            --secondary: #f5f7fa;
            --text: #202124;
            --text-light: #5f6368;
            --border: #dadce0;
            --card-bg: #ffffff;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --success: #4caf50;
            --warning: #ff9800;
            --error: #f44336;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
            color: var(--text);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        header {
            text-align: center;
            padding: 20px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 10px;
        }

        .logo i {
            font-size: 2.5rem;
            color: var(--primary);
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        h1 {
            font-size: 2.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto 20px;
        }

        .app-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            height: 600px;
        }

        @media (max-width: 900px) {
            .app-container {
                grid-template-columns: 1fr;
                height: auto;
            }
        }

        .weather-display {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            transition: var(--transition);
        }

        .info-panel {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .search-container {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
        }

        .search-container input {
            flex: 1;
            padding: 14px 20px;
            border: 1px solid var(--border);
            border-radius: 12px;
            font-size: 1rem;
            outline: none;
            transition: var(--transition);
        }

        .search-container input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(26, 115, 232, 0.2);
        }

        .search-container button {
            padding: 14px 24px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .search-container button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .location-suggestions {
            position: absolute;
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            width: calc(100% - 30px);
            max-height: 200px;
            overflow-y: auto;
            box-shadow: var(--shadow);
            z-index: 10;
            margin-top: 5px;
            display: none;
        }

        .location-suggestion {
            padding: 12px 20px;
            cursor: pointer;
            transition: var(--transition);
        }

        .location-suggestion:hover {
            background: var(--secondary);
        }

        .weather-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px 0;
        }

        .weather-emoji {
            font-size: 6rem;
            margin-bottom: 20px;
            animation: float 5s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .temperature {
            font-size: 4.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .weather-description {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 25px;
            color: var(--text-light);
        }

        .emotion-display {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.4rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 4px 15px rgba(26, 115, 232, 0.3);
            margin-bottom: 25px;
        }

        .location-info {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-light);
            font-size: 0.9rem;
            background: var(--secondary);
            padding: 10px 20px;
            border-radius: 50px;
        }

        .info-tabs {
            display: flex;
            border-bottom: 1px solid var(--border);
            margin-bottom: 25px;
        }

        .info-tab {
            padding: 15px 25px;
            cursor: pointer;
            font-weight: 600;
            color: var(--text-light);
            position: relative;
            transition: var(--transition);
        }

        .info-tab.active {
            color: var(--primary);
        }

        .info-tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary);
            border-radius: 3px 3px 0 0;
        }

        .tab-content {
            flex: 1;
            overflow: auto;
            padding-right: 10px;
        }

        .tab-pane {
            display: none;
        }

        .tab-pane.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .details-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .detail-card {
            background: var(--secondary);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: var(--transition);
        }

        .detail-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
        }

        .detail-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }

        .detail-icon i {
            font-size: 1.8rem;
            color: white;
        }

        .detail-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--text-light);
        }

        .detail-value {
            font-size: 1.8rem;
            font-weight: 700;
        }

        .forecast-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .forecast-card {
            background: var(--secondary);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: var(--transition);
        }

        .forecast-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
        }

        .forecast-day {
            font-weight: 600;
            margin-bottom: 15px;
        }

        .forecast-emoji {
            font-size: 2.5rem;
            margin: 10px 0;
        }

        .forecast-temp {
            font-weight: 700;
            font-size: 1.5rem;
        }

        .footer {
            text-align: center;
            padding: 20px;
            color: var(--text-light);
            font-size: 0.9rem;
            border-top: 1px solid var(--border);
            margin-top: 20px;
        }

        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(26, 115, 232, 0.2);
            border-top: 5px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            box-shadow: var(--shadow);
            z-index: 1000;
            transform: translateX(200%);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: var(--success);
        }

        .notification.warning {
            background: var(--warning);
        }

        .notification.error {
            background: var(--error);
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .app-container {
                grid-template-columns: 1fr;
            }
            
            .search-container {
                flex-direction: column;
            }
            
            .details-grid {
                grid-template-columns: 1fr;
            }
            
            .temperature {
                font-size: 3.5rem;
            }
            
            .weather-emoji {
                font-size: 4.5rem;
            }
        }

        /* Animation for weather change */
        @keyframes weatherChange {
            0% { opacity: 0; transform: scale(0.9); }
            100% { opacity: 1; transform: scale(1); }
        }

        .weather-change {
            animation: weatherChange 0.8s ease;
        }
    </style>
</head>
<body>
    <div class="notification" id="notification"></div>
    
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-cloud-sun"></i>
                <h1>Emotional Weather</h1>
            </div>
            <p class="subtitle">Experience weather like never before with emotional insights and professional forecasts</p>
        </header>

        <div class="app-container">
            <div class="weather-display">
                <div class="search-container">
                    <div style="position: relative; flex: 1;">
                        <input type="text" id="location-input" placeholder="Enter city name...">
                        <div class="location-suggestions" id="location-suggestions"></div>
                    </div>
                    <button id="search-btn">
                        <i class="fas fa-search"></i> Search
                    </button>
                    <button id="location-btn">
                        <i class="fas fa-location-arrow"></i>
                    </button>
                </div>
                
                <div class="weather-content" id="weather-content">
                    <div class="weather-emoji" id="weather-emoji">‚õÖ</div>
                    <div class="temperature" id="temperature">22¬∞C</div>
                    <div class="weather-description" id="weather-description">Partly Cloudy</div>
                    <div class="emotion-display">
                        <i class="fas fa-smile"></i>
                        <span id="weather-feeling">Calm & Thoughtful</span>
                    </div>
                    
                    <div class="location-info">
                        <i class="fas fa-map-marker-alt"></i>
                        <span id="location-display">London, UK</span>
                    </div>
                </div>
            </div>
            
            <div class="info-panel">
                <div class="info-tabs">
                    <div class="info-tab active" data-tab="details">Weather Details</div>
                    <div class="info-tab" data-tab="forecast">5-Day Forecast</div>
                </div>
                
                <div class="tab-content">
                    <div class="tab-pane active" id="details-tab">
                        <div class="details-grid">
                            <div class="detail-card">
                                <div class="detail-icon">
                                    <i class="fas fa-wind"></i>
                                </div>
                                <div class="detail-title">Wind Speed</div>
                                <div class="detail-value" id="wind-speed">12 km/h</div>
                            </div>
                            
                            <div class="detail-card">
                                <div class="detail-icon">
                                    <i class="fas fa-tint"></i>
                                </div>
                                <div class="detail-title">Humidity</div>
                                <div class="detail-value" id="humidity">65%</div>
                            </div>
                            
                            <div class="detail-card">
                                <div class="detail-icon">
                                    <i class="fas fa-compress-arrows-alt"></i>
                                </div>
                                <div class="detail-title">Pressure</div>
                                <div class="detail-value" id="pressure">1013 hPa</div>
                            </div>
                            
                            <div class="detail-card">
                                <div class="detail-icon">
                                    <i class="fas fa-sun"></i>
                                </div>
                                <div class="detail-title">UV Index</div>
                                <div class="detail-value" id="uv-index">3</div>
                            </div>
                            
                            <div class="detail-card">
                                <div class="detail-icon">
                                    <i class="fas fa-eye"></i>
                                </div>
                                <div class="detail-title">Visibility</div>
                                <div class="detail-value" id="visibility">10 km</div>
                            </div>
                            
                            <div class="detail-card">
                                <div class="detail-icon">
                                    <i class="fas fa-cloud-rain"></i>
                                </div>
                                <div class="detail-title">Precipitation</div>
                                <div class="detail-value" id="precipitation">0 mm</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tab-pane" id="forecast-tab">
                        <div class="forecast-container" id="forecast-container">
                            <!-- Forecast will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>Emotional Weather &copy; 2023 | Professional weather insights for your emotional well-being</p>
            <p>Location accuracy depends on browser permissions and network conditions</p>
        </div>
    </div>

    <script>
        // API Key
        const API_KEY = '48b5ddb951d54214a1f75421251008';
        
        // DOM elements
        const locationInput = document.getElementById('location-input');
        const searchBtn = document.getElementById('search-btn');
        const locationBtn = document.getElementById('location-btn');
        const weatherEmoji = document.getElementById('weather-emoji');
        const temperature = document.getElementById('temperature');
        const weatherDesc = document.getElementById('weather-description');
        const weatherFeeling = document.getElementById('weather-feeling');
        const locationDisplay = document.getElementById('location-display');
        const windSpeed = document.getElementById('wind-speed');
        const humidity = document.getElementById('humidity');
        const pressure = document.getElementById('pressure');
        const uvIndex = document.getElementById('uv-index');
        const visibility = document.getElementById('visibility');
        const precipitation = document.getElementById('precipitation');
        const forecastContainer = document.getElementById('forecast-container');
        const locationSuggestions = document.getElementById('location-suggestions');
        const notification = document.getElementById('notification');
        const infoTabs = document.querySelectorAll('.info-tab');
        const tabPanes = document.querySelectorAll('.tab-pane');
        const weatherContent = document.getElementById('weather-content');

        // Emotional responses based on weather conditions
        const emotionalResponses = {
            'Sunny': { emoji: '‚òÄÔ∏è', feeling: 'Happy & Energetic', icon: 'fas fa-smile-beam' },
            'Clear': { emoji: '‚òÄÔ∏è', feeling: 'Joyful & Bright', icon: 'fas fa-sun' },
            'Partly cloudy': { emoji: '‚õÖ', feeling: 'Calm & Thoughtful', icon: 'fas fa-smile' },
            'Cloudy': { emoji: '‚òÅÔ∏è', feeling: 'Reflective & Peaceful', icon: 'fas fa-meh' },
            'Overcast': { emoji: '‚òÅÔ∏è', feeling: 'Contemplative & Relaxed', icon: 'fas fa-cloud' },
            'Mist': { emoji: 'üå´Ô∏è', feeling: 'Mysterious & Dreamy', icon: 'fas fa-smog' },
            'Patchy rain': { emoji: 'üå¶Ô∏è', feeling: 'Nostalgic & Cozy', icon: 'fas fa-cloud-rain' },
            'Light rain': { emoji: 'üåßÔ∏è', feeling: 'Reflective & Calm', icon: 'fas fa-cloud-rain' },
            'Moderate rain': { emoji: 'üåßÔ∏è', feeling: 'Thoughtful & Relaxed', icon: 'fas fa-cloud-showers-heavy' },
            'Heavy rain': { emoji: 'üåßÔ∏è', feeling: 'Intense & Passionate', icon: 'fas fa-poo-storm' },
            'Thunderstorm': { emoji: '‚õàÔ∏è', feeling: 'Energetic & Powerful', icon: 'fas fa-bolt' },
            'Snow': { emoji: '‚ùÑÔ∏è', feeling: 'Peaceful & Tranquil', icon: 'fas fa-snowflake' },
            'Fog': { emoji: 'üå´Ô∏è', feeling: 'Mysterious & Dreamy', icon: 'fas fa-smog' }
        };

        // Tab switching
        infoTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs
                infoTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Hide all tab panes
                tabPanes.forEach(pane => pane.classList.remove('active'));
                
                // Show the selected tab pane
                const tabId = tab.getAttribute('data-tab');
                document.getElementById(`${tabId}-tab`).classList.add('active');
            });
        });

        // Show notification
        function showNotification(message, type = 'success') {
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Get emoji and feeling based on condition
        function getEmotionalResponse(condition) {
            for (const [key, value] of Object.entries(emotionalResponses)) {
                if (condition.includes(key)) {
                    return value;
                }
            }
            return { emoji: 'üå§Ô∏è', feeling: 'Neutral & Balanced', icon: 'fas fa-meh' };
        }

        // Fetch location suggestions
        async function fetchLocationSuggestions(query) {
            if (query.length < 3) {
                locationSuggestions.style.display = 'none';
                return;
            }
            
            try {
                const response = await fetch(`https://api.weatherapi.com/v1/search.json?key=${API_KEY}&q=${query}`);
                const data = await response.json();
                
                if (data.length > 0) {
                    locationSuggestions.innerHTML = '';
                    data.forEach(location => {
                        const suggestion = document.createElement('div');
                        suggestion.className = 'location-suggestion';
                        suggestion.textContent = `${location.name}, ${location.country}`;
                        suggestion.addEventListener('click', () => {
                            locationInput.value = `${location.name}, ${location.country}`;
                            locationSuggestions.style.display = 'none';
                            fetchWeatherData(location.name);
                        });
                        locationSuggestions.appendChild(suggestion);
                    });
                    locationSuggestions.style.display = 'block';
                } else {
                    locationSuggestions.style.display = 'none';
                }
            } catch (error) {
                console.error('Error fetching location suggestions:', error);
                locationSuggestions.style.display = 'none';
            }
        }

        // Fetch weather data
        async function fetchWeatherData(location) {
            // Show loading state
            weatherContent.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                </div>
            `;
            
            try {
                const response = await fetch(`https://api.weatherapi.com/v1/forecast.json?key=${API_KEY}&q=${location}&days=5`);
                const data = await response.json();
                
                if (data.error) {
                    throw new Error(data.error.message);
                }
                
                updateWeatherUI(data);
                showNotification('Weather data updated successfully!', 'success');
            } catch (error) {
                console.error('Error fetching weather data:', error);
                showNotification(`Error: ${error.message}`, 'error');
                
                // Restore previous content or show error
                weatherContent.innerHTML = `
                    <div style="text-align: center; padding: 20px;">
                        <i class="fas fa-exclamation-triangle" style="font-size: 3rem; color: var(--error); margin-bottom: 20px;"></i>
                        <h3>Weather Data Unavailable</h3>
                        <p>${error.message}</p>
                    </div>
                `;
            }
        }

        // Update weather UI
        function updateWeatherUI(data) {
            const current = data.current;
            const location = data.location;
            const forecast = data.forecast.forecastday;
            
            // Get emotional response
            const condition = current.condition.text;
            const emotion = getEmotionalResponse(condition);
            
            // Update current weather
            weatherContent.innerHTML = `
                <div class="weather-emoji">${emotion.emoji}</div>
                <div class="temperature">${current.temp_c}¬∞C</div>
                <div class="weather-description">${condition}</div>
                <div class="emotion-display">
                    <i class="${emotion.icon}"></i>
                    <span>${emotion.feeling}</span>
                </div>
                <div class="location-info">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>${location.name}, ${location.country}</span>
                </div>
            `;
            
            // Update location display
            locationDisplay.textContent = `${location.name}, ${location.country}`;
            
            // Update details
            windSpeed.textContent = `${current.wind_kph} km/h`;
            humidity.textContent = `${current.humidity}%`;
            pressure.textContent = `${current.pressure_mb} hPa`;
            uvIndex.textContent = current.uv;
            visibility.textContent = `${current.vis_km} km`;
            precipitation.textContent = `${current.precip_mm} mm`;
            
            // Update forecast
            forecastContainer.innerHTML = '';
            forecast.forEach(day => {
                const date = new Date(day.date);
                const dayName = date.toLocaleDateString('en-US', { weekday: 'short' });
                const condition = day.day.condition.text;
                const emotion = getEmotionalResponse(condition);
                
                const forecastCard = document.createElement('div');
                forecastCard.className = 'forecast-card';
                forecastCard.innerHTML = `
                    <div class="forecast-day">${dayName}</div>
                    <div class="forecast-emoji">${emotion.emoji}</div>
                    <div class="forecast-temp">${day.day.avgtemp_c}¬∞C</div>
                    <div style="font-size: 0.9rem; margin-top: 5px;">${condition}</div>
                `;
                forecastContainer.appendChild(forecastCard);
            });
        }

        // Get user location
        function getUserLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    position => {
                        const lat = position.coords.latitude;
                        const lon = position.coords.longitude;
                        fetchWeatherData(`${lat},${lon}`);
                        showNotification('Location detected successfully!', 'success');
                    },
                    error => {
                        console.error('Geolocation error:', error);
                        showNotification('Location access denied. Please enter manually.', 'warning');
                    }
                );
            } else {
                showNotification('Geolocation not supported by your browser', 'warning');
            }
        }

        // Event listeners
        locationInput.addEventListener('input', () => {
            fetchLocationSuggestions(locationInput.value);
        });
        
        searchBtn.addEventListener('click', () => {
            if (locationInput.value.trim()) {
                fetchWeatherData(locationInput.value);
            } else {
                showNotification('Please enter a location', 'warning');
            }
        });
        
        locationBtn.addEventListener('click', getUserLocation);
        
        document.addEventListener('click', (e) => {
            if (!e.target.closest('#location-input') && !e.target.closest('.location-suggestion')) {
                locationSuggestions.style.display = 'none';
            }
        });

        // Initialize with a default location
        fetchWeatherData('London');
    </script>
</body>
</html>